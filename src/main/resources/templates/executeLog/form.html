<!DOCTYPE html>
<html lang="zh">

<head th:replace="fragment/header"></head>

<body>

	<!-- navbar -->
	<nav th:replace="fragment/navbar"></nav>
	<!--/navbar-->

	<!-- container-fluid -->
	<div class="container-fluid">

		<div class="row">

			<!-- sidebar -->
			<div th:replace="fragment/sidebar"></div>
			<!-- /.sidebar -->

			<div class="col-xs-8 col-sm-10">

				<form class="form-horizontal" action="#" th:action="@{.}"
					method="Post">

					<div class="form-group">
						<label for="tenants" class="col-sm-2 control-label">Tenants</label>
						<div class="col-sm-10">
							<select name="tenants" id="tenants">
								<option value="" th:each="tenant:${tenants}"
									th:value="${tenant.id}" th:text="${tenant.code}">123</option>
							</select>
						</div>
					</div>

					<div class="form-group">
						<label for="vpc" class="col-sm-2 control-label">VPC</label>
						<div class="col-sm-10">
							<select name="vpc" id="vpc"></select>
						</div>
					</div>
					
					<div class="form-group">
						<label for="ecs" class="col-sm-2 control-label">Ecs</label>
						<div class="col-sm-10">
							<select name="ecs" id="ecs"></select>
						</div>
					</div>


					<div class="form-group">
						<label for="command" class="col-sm-2 control-label">command</label>
						<div class="col-sm-10">
							<textarea class="form-control" rows="3" id="command"
								name="command" placeholder="Command" th:text="${command}"></textarea>
						</div>
					</div>

					<div class="form-group">
						<div class="col-sm-offset-2 col-sm-10">
							<button type="submit" class="btn btn-default">Submit</button>
						</div>
					</div>

				</form>

				<blockquote class="bg-success col-sm-offset-2 col-sm-10"
					th:each="map : ${resultMap}"
					th:utext="${map.key}+':<br>'+${map.value} "></blockquote>


			</div>
			<!--/.col-xs-8.col-sm-10-->

		</div>
		<!--/row-->

		<!-- footer -->
		<footer th:replace="fragment/footer"></footer>
		<!--/.footer-->

	</div>
	<!--/.container-fluid-->

	<!-- Placed at the end of the document so the pages load faster -->

	<script type="text/javascript">
		$(document)
				.ready(
						function() {

							$("#executeLogForm").addClass("active");
							
							$("#tenants").change(function() {
								$.ajax({
									type : "GET",
									url : "[[@{/ajax/vpc/tenants/}]]"+ $("#tenants").val(),
									dataType : "json",
									success : function(data) {
										 var $html = "<option value=''></option>";
										for (var i = 0; i < data.length; i++) {
											$html += "<option value='" + data[i].id + "'>" + data[i].code + "</option>";
										}
										$("#vpc").empty().append($html);
									}
								});
							});
							
							$("#vpc").change(function() {
								$.ajax({
									type : "GET",
									url : "[[@{/ajax/ecs/vpc/}]]"+ $("#vpc").val(),
									dataType : "json",
									success : function(data) {
										 var $html = "<option value='*'>*</option>";
										for (var i = 0; i < data.length; i++) {
											$html += "<option value='" + data[i].id + "'>" + data[i].code + "</option>";
										}
										$("#ecs").empty().append($html);
									}
								});
							});

							

						});
	</script>

</body>
</html>